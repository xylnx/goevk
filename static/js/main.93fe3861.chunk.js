(this.webpackJsonpgoevk=this.webpackJsonpgoevk||[]).push([[0],{39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(21),s=n.n(r),l=n(7),i=n(8),o=n(10),d=n(0),j=Object(a.createContext)(),u=function(e,t){switch(t.type){case"CHANGE_COLOR":return Object(o.a)(Object(o.a)({},e),{},{color:t.payload});case"CHANGE_MODE":return Object(o.a)(Object(o.a)({},e),{},{mode:t.payload});default:return e}};function h(e){var t=e.children,n=Object(a.useReducer)(u,{mode:"dark"}),c=Object(i.a)(n,2),r=c[0],s=c[1];return Object(d.jsx)(j.Provider,{value:Object(o.a)(Object(o.a)({},r),{},{changeColor:function(e){s({type:"CHANGE_COLOR",payload:e})},changeMode:function(e){s({type:"CHANGE_MODE",payload:e})}}),children:t})}var b=function(){var e=Object(a.useContext)(j);if(void 0===e)throw new Error("useTheme() must be used inside a ThemeProvider");return e},v=function(){return Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-brightness-high",viewBox:"0 0 16 16",children:Object(d.jsx)("path",{d:"M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"})})},O=function(){return Object(d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-moon-stars",viewBox:"0 0 16 16",children:[Object(d.jsx)("path",{d:"M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278zM4.858 1.311A7.269 7.269 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.316 7.316 0 0 0 5.205-2.162c-.337.042-.68.063-1.029.063-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286z"}),Object(d.jsx)("path",{d:"M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"})]})},m=function(e){var t=e.cssClass,n=b(),a=n.mode,c=n.changeMode;return Object(d.jsx)("div",{className:t,children:Object(d.jsxs)("button",{className:"".concat(t,"__button"),onClick:function(){return c("dark"===a?"light":"dark")},children:["dark"===a&&Object(d.jsx)(v,{}),"light"===a&&Object(d.jsx)(O,{})]})})},x=function(){return Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",className:"bi bi-lightning-charge",viewBox:"0 0 16 16",children:Object(d.jsx)("path",{d:"M11.251.068a.5.5 0 0 1 .227.58L9.677 6.5H13a.5.5 0 0 1 .364.843l-8 8.5a.5.5 0 0 1-.842-.49L6.323 9.5H3a.5.5 0 0 1-.364-.843l8-8.5a.5.5 0 0 1 .615-.09zM4.157 8.5H7a.5.5 0 0 1 .478.647L6.11 13.59l5.732-6.09H9a.5.5 0 0 1-.478-.647L9.89 2.41 4.157 8.5z"})})},f=function(){return Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)(l.b,{to:"/",children:Object(d.jsxs)("h1",{children:[Object(d.jsx)(x,{}),"goeVK"]})}),Object(d.jsx)(m,{cssClass:"header__mode-selector"}),Object(d.jsx)("div",{className:"header__claim",children:"Dein Veranstaltungskalender f\xfcr G\xf6ttingen"})]})},p=function(){return Object(d.jsxs)("nav",{className:"nav",children:[Object(d.jsx)(l.c,{exact:!0,to:"/",className:"btn nav__item today",children:"Heute"}),Object(d.jsx)(l.c,{exact:!0,to:"/tomorrow",className:"btn nav__item tomorrow",children:"Morgen"}),Object(d.jsx)(l.c,{to:"/all",className:"btn nav__item all",children:"Alle Events"})]})},g=n(2),w=function(){var e=Object(g.g)(),t=e.search,n=e.pathname,c=Object(a.useState)([]),r=Object(i.a)(c,2),s=r[0],l=r[1],o=Object(g.f)(),j=function(e){var t=e.target.dataset.eventType;if(s.length>0){var a=s.indexOf(t),c=s;if(null===c||void 0===c||c.splice(a,1),c.length>0){var r="?",l="type=";return r+=l+=null===c||void 0===c?void 0:c.reduce((function(e,t){return e+"&type=".concat(t)})),void o.push(n+r)}o.push(n)}};return Object(a.useEffect)((function(){var e=new URLSearchParams(t);l(e.getAll("type"))}),[t]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("span",{className:"filter-control__btn",children:"Kategorien:"}),!s.length&&Object(d.jsx)("button",{onClick:j,type:"button",className:"filter-control__btn filter-control__btn--all",children:"Alle"}),null===s||void 0===s?void 0:s.map((function(e){return Object(d.jsx)("button",{onClick:j,type:"button",className:"filter-control__btn","data-event-type":e,children:e},e)}))]})},_=n(17),y=n.n(_),N=n(23);var k=function(e){return e.forEach((function(e){var t=function(e,t){var n=new Date(e),a={weekday:"short",year:"numeric",month:"long",hour:"numeric",minute:"numeric",day:"numeric",timeZone:"Europe/Berlin"},c=new Intl.DateTimeFormat("de-DE",a).format(n).split(/(,|\sum\s)/);return{weekday:c[0],date:c[2],time:c[4].trim(),month:n.getMonth(),day:n.getDate()}}(e.date,e.name);e.dateDetails=t})),e},M=function(e){var t=Object(a.useState)(null),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),l=Object(i.a)(s,2),o=l[0],d=l[1];return Object(a.useEffect)((function(){(function(){var t=Object(N.a)(y.a.mark((function t(){var n,a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.next=3,fetch(e);case 3:return n=t.sent,t.next=6,n.json();case 6:a=t.sent,a=k(a),r(a),d(!1);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),{data:c,pending:o}};function A(){document.querySelector(".event-list").classList.remove("viewTrans")}var E,D,C=function(){return Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",className:"bi bi-forward-fill",viewBox:"0 0 16 16",children:Object(d.jsx)("path",{d:"m9.77 12.11 4.012-2.953a.647.647 0 0 0 0-1.114L9.771 5.09a.644.644 0 0 0-.971.557V6.65H2v3.9h6.8v1.003c0 .505.545.808.97.557z"})})},z=function(e){var t="?",n="type=";return t+=n+=e.split(",").reduce((function(e,t){return e+"&type=".concat(t.trim())}))},L=function(e){var t=e.event,n=e.slug;return Object(d.jsxs)("article",{className:"event-card","data-color":t.dateDetails.weekday,children:[Object(d.jsx)("div",{className:"event__place",children:t.place}),Object(d.jsxs)("div",{className:"event__date",children:[t.dateDetails.date,Object(d.jsxs)("span",{className:"event__day",children:["[",t.dateDetails.weekday,"]"]})]}),Object(d.jsx)(l.b,{to:"".concat(n||"").concat(z(t.type)),className:"event__type",children:t.type}),Object(d.jsx)("div",{className:"event__time",children:t.dateDetails.time}),Object(d.jsxs)("a",{href:t.link,target:"blank",rel:"noopener",className:"event__name",children:[t.name,Object(d.jsx)(C,{})]})]})},H=function(e){var t=e.today,n=(e.setToday,e.pending);return Object(d.jsxs)("div",{className:"eventsNone__container",children:[Object(d.jsx)("div",{className:"eventsNone__svg-container",children:Object(d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",className:"".concat(n?"svgLoading":""," bi bi-boombox"),viewBox:"0 0 16 16",children:[Object(d.jsx)("path",{d:"M6 12.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5ZM3 8.062C3 6.76 4.235 5.765 5.53 5.886a26.58 26.58 0 0 0 4.94 0C11.765 5.765 13 6.76 13 8.062v1.157a.933.933 0 0 1-.765.935c-.845.147-2.34.346-4.235.346-1.895 0-3.39-.2-4.235-.346A.933.933 0 0 1 3 9.219V8.062Zm4.542-.827a.25.25 0 0 0-.217.068l-.92.9a24.767 24.767 0 0 1-1.871-.183.25.25 0 0 0-.068.495c.55.076 1.232.149 2.02.193a.25.25 0 0 0 .189-.071l.754-.736.847 1.71a.25.25 0 0 0 .404.062l.932-.97a25.286 25.286 0 0 0 1.922-.188.25.25 0 0 0-.068-.495c-.538.074-1.207.145-1.98.189a.25.25 0 0 0-.166.076l-.754.785-.842-1.7a.25.25 0 0 0-.182-.135Z"}),Object(d.jsx)("path",{d:"M8.5 1.866a1 1 0 1 0-1 0V3h-2A4.5 4.5 0 0 0 1 7.5V8a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1v1a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-1a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1v-.5A4.5 4.5 0 0 0 10.5 3h-2V1.866ZM14 7.5V13a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7.5A3.5 3.5 0 0 1 5.5 4h5A3.5 3.5 0 0 1 14 7.5Z"})]})}),n&&Object(d.jsxs)("div",{className:"eventsNone__copy",children:[Object(d.jsx)("span",{className:"text-bold",children:"Einen Moment... "}),Object(d.jsx)("p",{children:"Ich suche nach Veranstaltungen."})]}),t&&!n&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"eventsNone__copy",children:[Object(d.jsx)("span",{className:"text-bold",children:"Ooops"}),", leider finde ich keine Events f\xfcr heute. Guck doch mal, was in den kommenden Tagen los ist:"]}),Object(d.jsx)("div",{children:Object(d.jsx)(l.b,{to:"/all",className:"nav__item",children:"Alle Veranstaltungen"})})]}),!t&&!n&&Object(d.jsxs)("div",{className:"eventsNone__copy",children:[Object(d.jsx)("span",{className:"text-bold",children:"Leider finde ich keine Veranstaltungen."})," ","Schau sp\xe4ter nochmal vorbei."]})]})},V=function(e){var t=e.filter,n=Object(a.useState)(!0),c=Object(i.a)(n,2),r=c[0],s=c[1],l=Object(a.useState)(null),o=Object(i.a)(l,2),j=o[0],u=o[1],h=Object(a.useState)(null),b=Object(i.a)(h,2),v=b[0],O=b[1],m=M("https://sleepy-crag-13951.herokuapp.com/bvents.json"),x=m.data,f=m.pending,p=Object(g.g)(),w=p.search,_=p.pathname;return Object(a.useEffect)((function(){u(t(x)),"FilterToday"===t.name?s(!0):s(!1)}),[x,t]),Object(a.useEffect)((function(){var e,t=new URLSearchParams(w).getAll("type");O(function(e,t){if(e){if(!t||0===(null===t||void 0===t?void 0:t.length))return e;try{var n=new RegExp(t.join("|"));return e.filter((function(e){return n.test(e.type)}))}catch(a){console.error(a)}}}(j,t)),e=".event-list",document.querySelector(e).classList.add("viewTrans"),setTimeout(A,600)}),[j,w]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"event-list",children:[v&&v.map((function(e,t){return Object(d.jsx)(L,{event:e,index:t,slug:_},t)})),!j&&Object(d.jsx)(H,{today:r,setToday:s,pending:f})]})})},S=n(18),T=n(19),B=Object(T.a)(E||(E=Object(S.a)(["\n  :root {\n    --clr-bg: #001524;\n    --clr-fg: #ffecd1;\n    --clr-accent: #ff7d00;\n    --clr-btn-1: #007745; /* #fa515d */\n    --clr-btn-2: var(--clr-accent);\n    --border-radius: 1px;\n  }\n"]))),G=Object(T.a)(D||(D=Object(S.a)(["\n  :root {\n    --clr-bg: #e9ecf5;\n    --clr-fg: #202c59;\n    --clr-accent: #9b0095;\n    --clr-btn-1: #007745; /* #fa515d */\n    --clr-btn-2: var(--clr-accent);\n    --border-radius: 4px;\n  }\n"]))),R=function(){var e=new Date;return{month:e.getMonth(),date:e.getDate(),hours:e.getHours()}},Z=function(e){var t=[],n=R();return e?(e.forEach((function(e){var a=new Date(e.date);a.getMonth()===n.month&&a.getDate()===n.date&&a.getHours()>=n.hours-2&&t.push(e)})),t.length?t:null):null},F=function(e){var t=[],n=R();return e?(e.forEach((function(e){var a=new Date(e.date);a.getMonth()===n.month&&a.getDate()===n.date+1&&t.push(e)})),t.length?t:null):null},P=function(e){var t=[],n=new Date;return e?(e.forEach((function(e){var a=new Date(e.date);n>a||t.push(e)})),t.length?t:null):null};var I=function(){var e=b().mode;return Object(d.jsxs)(l.a,{children:["dark"===e&&Object(d.jsx)(B,{}),"light"===e&&Object(d.jsx)(G,{}),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(f,{}),Object(d.jsx)(p,{}),Object(d.jsxs)("main",{className:"main",children:[Object(d.jsx)(w,{}),Object(d.jsxs)(g.c,{children:[Object(d.jsx)(g.a,{exact:!0,path:"/",children:Object(d.jsx)(V,{filter:Z})}),Object(d.jsx)(g.a,{path:"/tomorrow",children:Object(d.jsx)(V,{filter:F})}),Object(d.jsx)(g.a,{path:"/all",children:Object(d.jsx)(V,{filter:P})})]})]})]})]})};n(39);s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(h,{children:Object(d.jsx)(I,{})})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.93fe3861.chunk.js.map