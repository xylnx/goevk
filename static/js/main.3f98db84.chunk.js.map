{"version":3,"sources":["components/Header.js","helpers/convertDates.js","hooks/useFetch.js","components/ButtonNav.js","components/Event.js","components/EventsNone.js","components/EventList.js","filters/FilterDates.js","App.js","index.js"],"names":["Header","className","to","style","marginBottom","xmlns","width","height","fill","viewBox","d","fontSize","convertDates","eventObjects","forEach","eventObj","dateDetails","dateStr","eventName","date","Date","options","weekday","year","month","hour","minute","day","timeZone","dateArr","Intl","DateTimeFormat","format","split","time","trim","getMonth","getDate","getDateDetails","name","useFetch","url","useState","data","setData","pending","setPending","useEffect","a","fetch","res","json","fetchData","ButtonNav","exact","Event","event","color","place","type","href","link","target","rel","EventsNone","today","setToday","border","padding","textAlign","maxWidth","maxHeight","margin","fontWeight","display","justifyContent","removeTrans","document","querySelector","classList","remove","EventList","filter","events","setEvents","add","setTimeout","map","index","getCurrentDateInfo","hours","getHours","FilterToday","todaysEvents","eventDate","push","length","FilterAll","allEvents","App","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3f98db84.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\n\nconst Header = () => {\n  return (\n    <header className=\"header\">\n      <Link to=\"/\">\n        <h1 style={{ marginBottom: \"14px\" }}>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"36\"\n            height=\"36\"\n            fill=\"var(--clr-accent)\"\n            className=\"bi bi-lightning-charge\"\n            viewBox=\"0 0 16 16\"\n          >\n            <path d=\"M11.251.068a.5.5 0 0 1 .227.58L9.677 6.5H13a.5.5 0 0 1 .364.843l-8 8.5a.5.5 0 0 1-.842-.49L6.323 9.5H3a.5.5 0 0 1-.364-.843l8-8.5a.5.5 0 0 1 .615-.09zM4.157 8.5H7a.5.5 0 0 1 .478.647L6.11 13.59l5.732-6.09H9a.5.5 0 0 1-.478-.647L9.89 2.41 4.157 8.5z\" />\n          </svg>\n          goeVK\n        </h1>\n      </Link>\n      <div style={{ fontSize: \"16px\" }}>\n        Dein Veranstaltungskalender für Göttingen\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","// Provide date + time of an event\n// Takes an array of event objects\n// manipulates each of the containing objects\n\nfunction convertDates(eventObjects) {\n  eventObjects.forEach((eventObj) => {\n    const dateDetails = getDateDetails(eventObj.date, eventObj.name);\n    eventObj.dateDetails = dateDetails;\n    // console.log(eventObj.dateDetails);\n  });\n  return eventObjects;\n}\n\nfunction getDateDetails(dateStr, eventName) {\n  // dateObj gets passed as a string, so:\n  // Convert it back into a date object!\n  const date = new Date(dateStr);\n\n  var options = {\n    weekday: \"short\",\n    year: \"numeric\",\n    month: \"long\",\n    hour: \"numeric\",\n    minute: \"numeric\",\n    day: \"numeric\",\n    timeZone: \"Europe/Berlin\",\n    // timeZoneName: \"short\",\n  };\n\n  // Format date\n  const dateArr = new Intl.DateTimeFormat(\"de-DE\", options)\n    .format(date)\n    .split(\",\");\n\n  const dateInfo = {\n    weekday: dateArr[0],\n    date: dateArr[1],\n    time: dateArr[2].trim(),\n    month: date.getMonth(),\n    day: date.getDate(),\n  };\n\n  return dateInfo;\n}\n\nexport default convertDates;\n","import { useState, useEffect } from \"react\";\nimport convertDates from \"../helpers/convertDates\";\n\nconst useFetch = (url) => {\n  const [data, setData] = useState(null);\n  const [pending, setPending] = useState(false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setPending(true);\n      const res = await fetch(url);\n      let json = await res.json();\n      json = convertDates(json);\n      // json = filterForTodaysEvents(json);\n      setData(json);\n      setPending(false);\n    };\n    fetchData();\n  }, [url]);\n\n  return { data, pending };\n};\n\nexport default useFetch;\n","import { NavLink } from \"react-router-dom\";\n\nexport const ButtonNav = () => {\n  return (\n    <div className=\"buttons\">\n      <NavLink exact to=\"/\" className=\"btn today\">\n        Heute\n      </NavLink>\n      <NavLink to=\"/all\" className=\"btn all\">\n        Alle Veranstaltungen\n      </NavLink>\n    </div>\n  );\n};\n","export const Event = ({ event }) => {\n  return (\n    <article className=\"event-card\" data-color={event.dateDetails.weekday}>\n      <div className=\"event-card__upper\" style={{ color: \"var(--clr-fg)\" }}>\n        <div className=\"event__place\">{event.place}</div>\n        <div className=\"event__date\">{event.dateDetails.date}</div>\n        <div className=\"event__day\">[ {event.dateDetails.weekday} ]</div>\n        <div className=\"event__type\">{event.type}</div>\n      </div>\n      <div className=\"event-card__lower\">\n        <div className=\"event__time\">{event.dateDetails.time}</div>\n\n        {/* Title Link */}\n        <a\n          href={event.link}\n          target=\"blank\"\n          rel=\"noopener\"\n          className=\"event__name\"\n        >\n          {event.name}\n        </a>\n\n        {/* Arrow Link */}\n        <a\n          href={event.link}\n          target=\"blank\"\n          rel=\"noopener\"\n          className=\"event__link\"\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"16\"\n            height=\"16\"\n            fill=\"var(--clr-accent)\"\n            className=\"bi bi-forward-fill\"\n            viewBox=\"0 0 16 16\"\n          >\n            <path d=\"m9.77 12.11 4.012-2.953a.647.647 0 0 0 0-1.114L9.771 5.09a.644.644 0 0 0-.971.557V6.65H2v3.9h6.8v1.003c0 .505.545.808.97.557z\" />\n          </svg>\n        </a>\n      </div>\n    </article>\n  );\n};\n","import { Link } from \"react-router-dom\";\n\nconst EventsNone = ({ today, setToday, pending }) => {\n  const containerStyles = {\n    border: \"1px solid var(--clr-fg)\",\n    padding: \"4%\",\n    color: \"var(--clr-fg)\",\n    fontSize: \"16px\",\n    textAlign: \"center\",\n  };\n\n  const svgContainer = {\n    maxWidth: \"120px\",\n    maxHeight: \"120px\",\n    margin: \"16px auto\",\n  };\n\n  const btnContainer = {\n    margin: \"16px 0\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    fontSize: \"16px\",\n  };\n\n  return (\n    <div className=\"eventsNone__container\" style={containerStyles}>\n      <div className=\"eventsNone__svg-container\" style={svgContainer}>\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"100%\"\n          height=\"100%\"\n          fill=\"var(--clr-accent)\"\n          className={`${pending ? \"svgLoading\" : \"\"} bi bi-boombox`}\n          viewBox=\"0 0 16 16\"\n        >\n          <path d=\"M6 12.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5ZM3 8.062C3 6.76 4.235 5.765 5.53 5.886a26.58 26.58 0 0 0 4.94 0C11.765 5.765 13 6.76 13 8.062v1.157a.933.933 0 0 1-.765.935c-.845.147-2.34.346-4.235.346-1.895 0-3.39-.2-4.235-.346A.933.933 0 0 1 3 9.219V8.062Zm4.542-.827a.25.25 0 0 0-.217.068l-.92.9a24.767 24.767 0 0 1-1.871-.183.25.25 0 0 0-.068.495c.55.076 1.232.149 2.02.193a.25.25 0 0 0 .189-.071l.754-.736.847 1.71a.25.25 0 0 0 .404.062l.932-.97a25.286 25.286 0 0 0 1.922-.188.25.25 0 0 0-.068-.495c-.538.074-1.207.145-1.98.189a.25.25 0 0 0-.166.076l-.754.785-.842-1.7a.25.25 0 0 0-.182-.135Z\" />\n          <path d=\"M8.5 1.866a1 1 0 1 0-1 0V3h-2A4.5 4.5 0 0 0 1 7.5V8a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1v1a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-1a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1v-.5A4.5 4.5 0 0 0 10.5 3h-2V1.866ZM14 7.5V13a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7.5A3.5 3.5 0 0 1 5.5 4h5A3.5 3.5 0 0 1 14 7.5Z\" />\n        </svg>\n      </div>\n      {/* Still loading data */}\n      {pending && (\n        <div className=\"eventsNone__copy\">\n          <span style={{ fontWeight: \"bold\" }}>Einen Moment... </span>\n          <p>Ich suche nach Veranstaltungen.</p>\n        </div>\n      )}\n      {/* No events for today */}\n      {today && !pending && (\n        <>\n          <div className=\"eventsNone__copy\">\n            <span style={{ fontWeight: \"bold\" }}>Ooops</span>, leider finde ich\n            keine Events für heute. Guck doch mal, was in den kommenden Tagen\n            los ist:\n          </div>\n          <div style={btnContainer}>\n            <Link to=\"/all\" className=\"btn all\">\n              Alle Veranstaltungen\n            </Link>\n          </div>\n        </>\n      )}\n      {/* No events at all */}\n      {!today && !pending && (\n        <div className=\"eventsNone__copy\">\n          <span style={{ fontWeight: \"bold\" }}>\n            Leider finde ich keine Veranstaltungen.\n          </span>{\" \"}\n          Schau später nochmal vorbei.\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default EventsNone;\n","import { useState, useEffect } from \"react\";\n\n// Custom hooks\nimport useFetch from \"../hooks/useFetch\";\n\n// Components\nimport { ButtonNav } from \"./ButtonNav\";\nimport { Event } from \"./Event\";\nimport EventsNone from \"./EventsNone\";\n\n// add a smoother transition when changing filters\nconst viewTransition = () => {\n  const eventList = document.querySelector(\".event-list\");\n  eventList.classList.add(\"viewTrans\");\n  setTimeout(removeTrans, 600);\n};\n\nfunction removeTrans() {\n  const eventList = document.querySelector(\".event-list\");\n  eventList.classList.remove(\"viewTrans\");\n}\n\nexport const EventList = ({ filter }) => {\n  const url =\n    process.env.NODE_ENV === \"development\"\n      ? \"http://localhost:5033/events.json\"\n      : \"https://sleepy-crag-13951.herokuapp.com/bvents.json\";\n\n  const [today, setToday] = useState(true);\n  const [events, setEvents] = useState(null);\n  const { data, pending } = useFetch(url);\n\n  useEffect(() => {\n    setEvents(filter(data));\n    filter.name === \"FilterToday\" ? setToday(true) : setToday(false);\n    viewTransition();\n  }, [data, filter]);\n\n  return (\n    <>\n      <ButtonNav />\n      <div className=\"event-list\">\n        {/* today's events */}\n        {events &&\n          events.map((event, index) => (\n            <Event key={index} event={event} index={index} />\n          ))}\n        {/* no events */}\n        {!events && (\n          <EventsNone today={today} setToday={setToday} pending={pending} />\n        )}\n      </div>\n    </>\n  );\n};\n","// Define how long after it's starting time an event will still be displayed\nconst timeOffset = 2;\n// Return an object with info on the current time\nconst getCurrentDateInfo = () => {\n  const date = new Date();\n  return {\n    month: date.getMonth(),\n    date: date.getDate(),\n    hours: date.getHours(),\n  };\n};\n\nconst FilterToday = (events) => {\n  const todaysEvents = [];\n  const today = getCurrentDateInfo();\n  if (events) {\n    events.forEach((event) => {\n      const eventDate = new Date(event.date);\n      // console.log(date.getDay());\n      if (\n        eventDate.getMonth() === today.month &&\n        eventDate.getDate() === today.date &&\n        eventDate.getHours() >= today.hours - timeOffset\n      )\n        todaysEvents.push(event);\n    });\n    // Return null, if array is empty\n    if (!todaysEvents.length) return null;\n    return todaysEvents;\n  }\n  return null;\n};\n\nconst FilterAll = (events) => {\n  const allEvents = [];\n  const today = getCurrentDateInfo();\n  if (events) {\n    // Filter events to not show expired events\n    events.forEach((event) => {\n      const eventDate = new Date(event.date);\n\n      if (\n        eventDate.getMonth() === today.month && // Event is this month\n        eventDate.getDate() < today.date // but, date is in the past\n      ) {\n        return;\n      }\n      if (\n        eventDate.getMonth() === today.month && // The month is this month\n        eventDate.getDate() === today.date && // The day is today\n        eventDate.getHours() <= today.hours - timeOffset // but, the event already started (- offset)\n      ) {\n        return;\n      }\n      // The event is today and did n\n      allEvents.push(event);\n    });\n    // Return null, if array is empty\n    if (!allEvents.length) return null;\n    return allEvents;\n  }\n  return null;\n};\n\nexport { FilterToday, FilterAll };\n","import Header from \"./components/Header\";\nimport { EventList } from \"./components/EventList\";\n\nimport {\n  //BrowserRouter as Router,\n  HashRouter,\n  Route,\n  Switch,\n} from \"react-router-dom\";\n\n// Filters\nimport { FilterToday, FilterAll } from \"./filters/FilterDates\";\n\nfunction App() {\n  return (\n    <HashRouter>\n      <div className=\"App\">\n        <Header />\n        <main className=\"main\">\n          <Switch>\n            <Route exact path=\"/\">\n              <EventList filter={FilterToday} />\n            </Route>\n            <Route exact path=\"/all\">\n              <EventList filter={FilterAll} />\n            </Route>\n          </Switch>\n        </main>\n      </div>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}