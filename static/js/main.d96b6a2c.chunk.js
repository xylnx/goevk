(this.webpackJsonpgoevk=this.webpackJsonpgoevk||[]).push([[0],{34:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(18),l=a.n(s),r=a(7),i=a(0);const o=Object(n.createContext)(),d=(e,t)=>{switch(t.type){case"CHANGE_COLOR":return{...e,color:t.payload};case"CHANGE_MODE":return{...e,mode:t.payload};default:return e}};function j(e){let{children:t}=e;const[a,c]=Object(n.useReducer)(d,{mode:"dark"});return Object(i.jsx)(o.Provider,{value:{...a,changeColor:e=>{c({type:"CHANGE_COLOR",payload:e})},changeMode:e=>{c({type:"CHANGE_MODE",payload:e})}},children:t})}const h=()=>{const e=Object(n.useContext)(o);if(void 0===e)throw new Error("useTheme() must be used inside a ThemeProvider");return e},b=()=>Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-brightness-high",viewBox:"0 0 16 16",children:Object(i.jsx)("path",{d:"M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"})}),m=()=>Object(i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-moon-stars",viewBox:"0 0 16 16",children:[Object(i.jsx)("path",{d:"M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278zM4.858 1.311A7.269 7.269 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.316 7.316 0 0 0 5.205-2.162c-.337.042-.68.063-1.029.063-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286z"}),Object(i.jsx)("path",{d:"M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"})]}),u=e=>{let{cssClass:t}=e;const{mode:a,changeMode:n}=h();return Object(i.jsx)("div",{className:t,children:Object(i.jsxs)("button",{className:"".concat(t,"__button"),onClick:()=>n("dark"===a?"light":"dark"),children:["dark"===a&&Object(i.jsx)("span",{children:"light mode"}),"light"===a&&Object(i.jsx)("span",{children:"dark mode"}),"dark"===a&&Object(i.jsx)(b,{}),"light"===a&&Object(i.jsx)(m,{})]})})},O=()=>Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",className:"bi bi-lightning-charge",viewBox:"0 0 16 16",children:Object(i.jsx)("path",{d:"M11.251.068a.5.5 0 0 1 .227.58L9.677 6.5H13a.5.5 0 0 1 .364.843l-8 8.5a.5.5 0 0 1-.842-.49L6.323 9.5H3a.5.5 0 0 1-.364-.843l8-8.5a.5.5 0 0 1 .615-.09zM4.157 8.5H7a.5.5 0 0 1 .478.647L6.11 13.59l5.732-6.09H9a.5.5 0 0 1-.478-.647L9.89 2.41 4.157 8.5z"})});var v=()=>Object(i.jsxs)("header",{className:"header",children:[Object(i.jsx)(r.b,{to:"/",children:Object(i.jsxs)("h1",{children:[Object(i.jsx)(O,{}),"goeVK"]})}),Object(i.jsx)(u,{cssClass:"header__mode-selector"}),Object(i.jsx)("div",{className:"header__claim",children:"Dein Veranstaltungskalender f\xfcr G\xf6ttingen"})]});const x=()=>Object(i.jsxs)("nav",{className:"nav",children:[Object(i.jsx)(r.c,{exact:!0,to:"/",className:"btn nav__item today",children:"Heute"}),Object(i.jsx)(r.c,{exact:!0,to:"/tomorrow",className:"btn nav__item tomorrow",children:"Morgen"}),Object(i.jsx)(r.c,{to:"/all",className:"btn nav__item all",children:"Alle Events"})]});var g=a(2);const p=()=>{const{search:e,pathname:t}=Object(g.g)(),[a,c]=Object(n.useState)([]),s=Object(g.f)(),l=e=>{const n=e.target.dataset.eventType;if(a.length>0){const e=a.indexOf(n),c=a;if(null===c||void 0===c||c.splice(e,1),c.length>0){let e="?",a="type=";return a+=null===c||void 0===c?void 0:c.reduce(((e,t)=>e+"&type=".concat(t))),e+=a,void s.push(t+e)}s.push(t)}};return Object(n.useEffect)((()=>{const t=new URLSearchParams(e);c(t.getAll("type"))}),[e]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("span",{className:"filter-control__btn",children:"Kategorien:"}),!a.length&&Object(i.jsx)("button",{onClick:l,type:"button",className:"filter-control__btn filter-control__btn--all",children:"Alle"}),null===a||void 0===a?void 0:a.map((e=>Object(i.jsx)("button",{onClick:l,type:"button",className:"filter-control__btn","data-event-type":e,children:e},e)))]})};var w=function(e){return e.forEach((e=>{const t=function(e,t){const a=new Date(e);var n={weekday:"short",year:"numeric",month:"long",hour:"numeric",minute:"numeric",day:"numeric",timeZone:"Europe/Berlin"};const c=new Intl.DateTimeFormat("de-DE",n).format(a).split(/(,|\sum\s)/);return{weekday:c[0],date:c[2],time:c[4].trim(),month:a.getMonth(),day:a.getDate()}}(e.date,e.name);e.dateDetails=t})),e};var f=e=>{const[t,a]=Object(n.useState)(null),[c,s]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{(async()=>{s(!0);const t=await fetch(e);let n=await t.json();n=w(n),a(n),s(!1)})()}),[e]),{data:t,pending:c}};function _(){document.querySelector(".event-list").classList.remove("viewTrans")}const N=()=>Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",className:"bi bi-forward-fill",viewBox:"0 0 16 16",children:Object(i.jsx)("path",{d:"m9.77 12.11 4.012-2.953a.647.647 0 0 0 0-1.114L9.771 5.09a.644.644 0 0 0-.971.557V6.65H2v3.9h6.8v1.003c0 .505.545.808.97.557z"})}),y=e=>{let t="?",a="type=";return a+=e.split(",").reduce(((e,t)=>e+"&type=".concat(t.trim()))),t+=a,t},k=e=>{let{event:t,slug:a}=e;return Object(i.jsxs)("article",{className:"event-card","data-color":t.dateDetails.weekday,children:[Object(i.jsx)("div",{className:"event__place",children:t.place}),Object(i.jsxs)("div",{className:"event__date",children:[t.dateDetails.date,Object(i.jsxs)("span",{className:"event__day",children:["[",t.dateDetails.weekday,"]"]})]}),Object(i.jsx)(r.b,{to:"".concat(a||"").concat(y(t.type)),className:"event__type",children:t.type}),t.hasStartTime&&Object(i.jsx)("div",{className:"event__time",children:t.dateDetails.time}),!t.hasStartTime&&Object(i.jsx)("div",{children:Object(i.jsxs)("a",{href:t.link,target:"blank",rel:"noopener",className:"event__start-time-hint",children:["Beginn nicht bekannt. Checke die ",t.place," Website."]})}),Object(i.jsxs)("a",{href:t.link,target:"blank",rel:"noopener",className:"event__name",children:[t.name,Object(i.jsx)(N,{})]})]})};var M=e=>{let{today:t,setToday:a,pending:n}=e;return Object(i.jsxs)("div",{className:"eventsNone__container",children:[Object(i.jsx)("div",{className:"eventsNone__svg-container",children:Object(i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",className:"".concat(n?"svgLoading":""," bi bi-boombox"),viewBox:"0 0 16 16",children:[Object(i.jsx)("path",{d:"M6 12.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5ZM3 8.062C3 6.76 4.235 5.765 5.53 5.886a26.58 26.58 0 0 0 4.94 0C11.765 5.765 13 6.76 13 8.062v1.157a.933.933 0 0 1-.765.935c-.845.147-2.34.346-4.235.346-1.895 0-3.39-.2-4.235-.346A.933.933 0 0 1 3 9.219V8.062Zm4.542-.827a.25.25 0 0 0-.217.068l-.92.9a24.767 24.767 0 0 1-1.871-.183.25.25 0 0 0-.068.495c.55.076 1.232.149 2.02.193a.25.25 0 0 0 .189-.071l.754-.736.847 1.71a.25.25 0 0 0 .404.062l.932-.97a25.286 25.286 0 0 0 1.922-.188.25.25 0 0 0-.068-.495c-.538.074-1.207.145-1.98.189a.25.25 0 0 0-.166.076l-.754.785-.842-1.7a.25.25 0 0 0-.182-.135Z"}),Object(i.jsx)("path",{d:"M8.5 1.866a1 1 0 1 0-1 0V3h-2A4.5 4.5 0 0 0 1 7.5V8a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1v1a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-1a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1v-.5A4.5 4.5 0 0 0 10.5 3h-2V1.866ZM14 7.5V13a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7.5A3.5 3.5 0 0 1 5.5 4h5A3.5 3.5 0 0 1 14 7.5Z"})]})}),n&&Object(i.jsxs)("div",{className:"eventsNone__copy",children:[Object(i.jsx)("span",{className:"text-bold",children:"Einen Moment... "}),Object(i.jsx)("p",{children:"Ich suche nach Veranstaltungen."})]}),t&&!n&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"eventsNone__copy",children:[Object(i.jsx)("span",{className:"text-bold",children:"Ooops"}),", leider finde ich keine Events f\xfcr heute. Guck doch mal, was in den kommenden Tagen los ist:"]}),Object(i.jsx)("div",{children:Object(i.jsx)(r.b,{to:"/all",className:"nav__item",children:"Alle Veranstaltungen"})})]}),!t&&!n&&Object(i.jsxs)("div",{className:"eventsNone__copy",children:[Object(i.jsx)("span",{className:"text-bold",children:"Leider finde ich keine Veranstaltungen."})," ","Schau sp\xe4ter nochmal vorbei."]})]})};const A=e=>{let{filter:t}=e;const[a,c]=Object(n.useState)(!0),[s,l]=Object(n.useState)(null),[r,o]=Object(n.useState)(null),{data:d,pending:j}=f("https://api.goevk.de/events.json"),{search:h,pathname:b}=Object(g.g)();return Object(n.useEffect)((()=>{l(t(d)),"FilterToday"===t.name?c(!0):c(!1)}),[d,t]),Object(n.useEffect)((()=>{const e=new URLSearchParams(h).getAll("type");var t;o(((e,t)=>{if(e){if(!t||0===(null===t||void 0===t?void 0:t.length))return e;try{const a=new RegExp(t.join("|"));return e.filter((e=>a.test(e.type)))}catch(a){console.error(a)}}})(s,e)),t=".event-list",document.querySelector(t).classList.add("viewTrans"),setTimeout(_,600)}),[s,h]),Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"event-list",children:[r&&r.map(((e,t)=>Object(i.jsx)(k,{event:e,index:t,slug:b},t))),!s&&Object(i.jsx)(M,{today:a,setToday:c,pending:j})]})})};var E,C,D=a(15),z=a(16);const L=Object(z.a)(E||(E=Object(D.a)(["\n  :root {\n    --clr-bg: #001524;\n    --clr-fg: #ffecd1;\n    --clr-accent: #ff7d00;\n    --clr-btn-1: #007745; /* #fa515d */\n    --clr-btn-2: var(--clr-accent);\n    --border-radius: 1px;\n  }\n"]))),S=Object(z.a)(C||(C=Object(D.a)(["\n  :root {\n    --clr-bg: #e9ecf5;\n    --clr-fg: #202c59;\n    --clr-accent: #9b0095;\n    --clr-btn-1: #007745; /* #fa515d */\n    --clr-btn-2: var(--clr-accent);\n    --border-radius: 4px;\n  }\n"]))),H=()=>{const e=new Date;return{month:e.getMonth(),date:e.getDate(),hours:e.getHours()}},T=e=>{const t=[],a=H();return e?(e.forEach((e=>{const n=new Date(e.date);n.getMonth()===a.month&&n.getDate()===a.date&&n.getHours()>=a.hours-2&&t.push(e)})),t.length?t:null):null},V=e=>{const t=[],a=H();return e?(e.forEach((e=>{const n=new Date(e.date);n.getMonth()===a.month&&n.getDate()===a.date+1&&t.push(e)})),t.length?t:null):null},B=e=>{const t=[],a=new Date;return e?(e.forEach((e=>{const n=new Date(e.date);a>n||t.push(e)})),t.length?t:null):null};var G=function(){const{mode:e}=h();return Object(i.jsxs)(r.a,{children:["dark"===e&&Object(i.jsx)(L,{}),"light"===e&&Object(i.jsx)(S,{}),Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(v,{}),Object(i.jsx)(x,{}),Object(i.jsxs)("main",{className:"main",children:[Object(i.jsx)(p,{}),Object(i.jsxs)(g.c,{children:[Object(i.jsx)(g.a,{exact:!0,path:"/",children:Object(i.jsx)(A,{filter:T})}),Object(i.jsx)(g.a,{path:"/tomorrow",children:Object(i.jsx)(A,{filter:V})}),Object(i.jsx)(g.a,{path:"/all",children:Object(i.jsx)(A,{filter:B})})]})]})]})]})};a(34);l.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(j,{children:Object(i.jsx)(G,{})})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.d96b6a2c.chunk.js.map